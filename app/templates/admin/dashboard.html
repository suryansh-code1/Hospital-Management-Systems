{% extends 'base.html' %}
{% block content %}
{% from 'macros.html' import metric_card %}
<h2 class="mb-3">Admin Dashboard</h2>
<div class="row g-3">
  <div class="col-md-4">{{ metric_card('Doctors', counts.doctors, '<i class="bi bi-person-badge"></i>') }}</div>
  <div class="col-md-4">{{ metric_card('Patients', counts.patients, '<i class="bi bi-people"></i>') }}</div>
  <div class="col-md-4">{{ metric_card('Appointments', counts.appointments, '<i class="bi bi-calendar-event"></i>') }}</div>
</div>
<h5 class="mt-4">Recent Appointments</h5>
<div class="card">
  <div class="table-responsive">
    <table class="table table-striped align-middle mb-0">
      <thead class="table-light"><tr><th>ID</th><th>Date</th><th>Time</th><th>Doctor</th><th>Patient</th><th>Status</th></tr></thead>
      <tbody>
        {% for a in latest_appts %}
          <tr><td>{{ a.id }}</td><td>{{ a.date }}</td><td>{{ a.time }}</td><td>{{ a.doctor.name }}</td><td>{{ a.patient.name }}</td><td>{{ a.status }}</td></tr>
        {% else %}
          <tr><td colspan="6" class="text-center text-muted py-4">No recent appointments</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
